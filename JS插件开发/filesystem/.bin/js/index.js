(function(){GeoBOS.filesystem.init(function(e){if(e){console.log(e.message)}else{document.getElementById("current_path").value=arguments[1];var t=document.getElementById("div_display_folder");for(var n=2;n<arguments.length;n++){var l=document.createElement("li");l.innerHTML=arguments[n];l.onclick=openFileOrFolderByName;t.appendChild(l)}}})})();var current_display_status="div_display_folder";function openFileOrFolderByName(){GeoBOS.filesystem.openFileOrFolderByName(this.innerHTML,function(e){if(e){console.log(e.message)}else{if(arguments[1]=="folder"){setDivDisplayFolder();document.getElementById("current_path").value=arguments[2];var t=document.getElementById("div_display_folder");t.innerHTML="";for(var n=3;n<arguments.length;n++){var l=document.createElement("li");l.innerHTML=arguments[n];l.onclick=openFileOrFolderByName;t.appendChild(l)}}else if(arguments[1]=="file"){setDivDisplayFile();document.getElementById(current_display_status).innerHTML=arguments[2]}}})}function onOpen(){if(current_display_status!="div_display_folder")setDivDisplayFolder();var e=document.getElementById("current_path").value;if(e=="")return;GeoBOS.filesystem.openFileOrFolderByPath(e,function(e){if(e){console.log(e.message)}else{if(arguments[1]=="folder"){setDivDisplayFolder();var t=document.getElementById("div_display_folder");t.innerHTML="";for(var n=3;n<arguments.length;n++){var l=document.createElement("li");l.innerHTML=arguments[n];l.onclick=openFileOrFolderByName;t.appendChild(l)}}else if(arguments[1]=="file"){setDivDisplayFile();document.getElementById(current_display_status).innerHTML=arguments[2]}}})}function onReturn(){if(current_display_status!="div_display_folder"){setDivDisplayFolder();return}GeoBOS.filesystem.returnPreFolder(function(e){if(e){console.log(e.message)}else{document.getElementById("current_path").value=arguments[1];var t=document.getElementById("div_display_folder");t.innerHTML="";for(var n=2;n<arguments.length;n++){var l=document.createElement("li");l.innerHTML=arguments[n];l.onclick=openFileOrFolderByName;t.appendChild(l)}}})}function onSearch(){if(current_display_status!="div_display_search_result")setDivDisplaySearchResult();var e=document.getElementById("search_name").value;if(e=="")return;GeoBOS.filesystem.searchFileOrFolderByName(e,function(e){if(e)console.log(e.message);else{var t=document.getElementById(current_display_status);t.innerHTML="";for(var n=1;n<arguments.length;n++){var l=document.createElement("li");l.innerHTML=arguments[n];t.appendChild(l)}}})}function setDivDisplayFolder(){document.getElementById(current_display_status).style.display="none";current_display_status="div_display_folder";document.getElementById(current_display_status).style.display="inline";document.getElementById("button_open").style.disabled="false";document.getElementById("button_search").style.disabled="false";document.getElementById("button_return").style.disabled="false"}function setDivDisplayFile(){document.getElementById(current_display_status).style.display="none";current_display_status="div_display_file";document.getElementById(current_display_status).style.display="inline";document.getElementById("button_open").style.disabled="true";document.getElementById("button_search").style.disabled="true";document.getElementById("button_return").style.disabled="false"}function setDivDisplaySearchResult(){document.getElementById(current_display_status).style.display="none";current_display_status="div_display_search_result";document.getElementById(current_display_status).style.display="inline";document.getElementById("button_open").style.disabled="ture";document.getElementById("button_search").style.disabled="false";document.getElementById("button_return").style.disabled="false"}