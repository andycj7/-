var current_display_status="div_display_folder";(function(){GeoBOS.filesystem.init(function(e){if(e){console.log(e.message)}else{document.getElementById("current_path").value=arguments[1];var l=arguments[2];var t=document.getElementById("div_display_folder");for(var n=3;n<3+l;n++){var r=document.createElement("li");r.innerHTML=arguments[n];r.onclick=openFileOrFolderByName;r.style.color="red";t.appendChild(r)}file_num=arguments[3+l];for(var n=3+l+1;n<arguments.length;n++){var r=document.createElement("li");r.innerHTML=arguments[n];r.onclick=openFileOrFolderByName;t.appendChild(r)}}})})();function removeAllChild(e){while(e.hasChildNodes()){e.removeChild(e.firstChild)}}function openFileOrFolderByName(){GeoBOS.filesystem.openFileOrFolderByName(this.innerHTML,function(e){if(e){console.log(e.message)}else{if(arguments[1]=="folder"){setDivDisplayFolder();document.getElementById("current_path").value=arguments[2];var l=arguments[3];var t=document.getElementById("div_display_folder");removeAllChild(t);for(var n=4;n<4+l;n++){var r=document.createElement("li");r.innerHTML=arguments[n];r.onclick=openFileOrFolderByName;r.style.color="red";t.appendChild(r)}var i=arguments[4+l];for(var n=4+l+1;n<arguments.length;n++){var r=document.createElement("li");r.innerHTML=arguments[n];r.onclick=openFileOrFolderByName;t.appendChild(r)}}else if(arguments[1]=="file"){setDivDisplayFile();document.getElementById(current_display_status).innerHTML=arguments[2]}}})}function onOpen(){if(current_display_status!="div_display_folder")setDivDisplayFolder();var e=document.getElementById("current_path").value;if(e=="")return;GeoBOS.filesystem.openFileOrFolderByPath(e,function(e){if(e){console.log(e.message)}else{if(arguments[1]=="folder"){setDivDisplayFolder();var l=document.getElementById("div_display_folder");var t=arguments[3];removeAllChild(l);for(var n=4;n<4+t;n++){var r=document.createElement("li");r.innerHTML=arguments[n];r.onclick=openFileOrFolderByName;r.style.color="red";l.appendChild(r)}var i=arguments[4+t];for(var n=4+t+1;n<arguments.length;n++){var r=document.createElement("li");r.innerHTML=arguments[n];r.onclick=openFileOrFolderByName;l.appendChild(r)}}else if(arguments[1]=="file"){setDivDisplayFile();document.getElementById(current_display_status).innerHTML=arguments[2]}}})}function onReturn(){if(current_display_status!="div_display_folder"){setDivDisplayFolder();return}GeoBOS.filesystem.returnPreFolder(function(e){if(e){console.log(e.message)}else{document.getElementById("current_path").value=arguments[1];var l=arguments[2];var t=document.getElementById("div_display_folder");removeAllChild(t);for(var n=3;n<3+l;n++){var r=document.createElement("li");r.innerHTML=arguments[n];r.onclick=openFileOrFolderByName;r.style.color="red";t.appendChild(r)}file_num=arguments[3+l];for(var n=3+l+1;n<arguments.length;n++){var r=document.createElement("li");r.innerHTML=arguments[n];r.onclick=openFileOrFolderByName;t.appendChild(r)}}})}function openFileOrFolderByPath(){GeoBOS.filesystem.openFileOrFolderByPath(this.innerHTML,function(e){if(e){console.log(e.message)}else{if(arguments[1]=="folder"){setDivDisplayFolder();document.getElementById("current_path").value=arguments[2];var l=arguments[3];var t=document.getElementById("div_display_folder");removeAllChild(t);for(var n=4;n<4+l;n++){var r=document.createElement("li");r.innerHTML=arguments[n];r.onclick=openFileOrFolderByName;r.style.color="red";t.appendChild(r)}var i=arguments[4+l];for(var n=4+l+1;n<arguments.length;n++){var r=document.createElement("li");r.innerHTML=arguments[n];r.onclick=openFileOrFolderByName;t.appendChild(r)}}else if(arguments[1]=="file"){setDivDisplayFile();document.getElementById(current_display_status).innerHTML=arguments[2]}}})}function onSearch(){if(current_display_status!="div_display_search_result")setDivDisplaySearchResult();var e=document.getElementById("search_name").value;if(e=="")return;GeoBOS.filesystem.searchFileOrFolderByName(e,function(e){if(e)console.log(e.message);else{var l=document.getElementById(current_display_status);removeAllChild(l);var t=arguments[1];for(var n=2;n<2+t;n++){var r=document.createElement("li");r.innerHTML=arguments[n];r.onclick=openFileOrFolderByPath;r.style.color="red";l.appendChild(r)}var i=arguments[2+t];for(var n=2+t+1;n<arguments.length;n++){var r=document.createElement("li");r.innerHTML=arguments[n];r.onclick=openFileOrFolderByPath;l.appendChild(r)}}})}function setDivDisplayFolder(){var e=document.getElementById(current_display_status);removeAllChild(e);e.style.display="none";current_display_status="div_display_folder";document.getElementById(current_display_status).style.display="inline";document.getElementById("button_open").style.disabled="false";document.getElementById("button_search").style.disabled="false";document.getElementById("button_return").style.disabled="false"}function setDivDisplayFile(){var e=document.getElementById(current_display_status);removeAllChild(e);e.style.display="none";current_display_status="div_display_file";document.getElementById(current_display_status).style.display="inline";document.getElementById("button_open").style.disabled="true";document.getElementById("button_search").style.disabled="true";document.getElementById("button_return").style.disabled="false"}function setDivDisplaySearchResult(){var e=document.getElementById(current_display_status);removeAllChild(e);e.style.display="none";current_display_status="div_display_search_result";document.getElementById(current_display_status).style.display="inline";document.getElementById("button_open").style.disabled="ture";document.getElementById("button_search").style.disabled="false";document.getElementById("button_return").style.disabled="false"}